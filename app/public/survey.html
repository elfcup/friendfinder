<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Survey</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10">
            <div>
                <h1><strong>Survey</strong></h1>
                <h4>Please fill out all areas</h4>
                <hr>
            </div>
        </div>
        <div class="col-md-1"></div>
    </div>
    <div class="row">
        <div class="col-md-1">
        </div>
        <div class="col-md-10">
            <h3><strong>About You</strong></h3>
            <form method="POST" role="form">
                <div class="form-group">
                    <label for="name">Name: (required)</label>
                    <input type="text" class="form-control" id="name">
                </div>
                <div class="form-group">
                    <label for="photo">Link to Photo: (required)</label>
                    <input type="text" class="form-control" id="photo">
                </div>
                <hr>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 1</strong></h3>
                    <h4>In general, I would prefer to stay home instead of going out</h4>
                    <select class="form-control" id="q1">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 2</strong></h3>
                    <h4>In general, when I get angry, I really lose my cool</h4>
                    <select class="form-control" id="q2">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 3</strong></h3>
                    <h4>In general, I prefer to view my surroundings from high places, rather than on the ground</h4>
                    <select class="form-control" id="q3">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 4</strong></h3>
                    <h4>In general, I love to work out and get huge muscles</h4>
                    <select class="form-control" id="q4">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 5</strong></h3>
                    <h4>In general, I am super sexy and can and seduce nearly anyone</h4>
                    <select class="form-control" id="q5">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 6</strong></h3>
                    <h4>I can often be found using my vast imagination to create/invent things</h4>
                    <select class="form-control" id="q6">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 7</strong></h3>
                    <h4>In general, I am smarter than most</h4>
                    <select class="form-control" id="q7">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 8</strong></h3>
                    <h4>When I have had a good ale, and want another, I may be seen smashing my drinking vessle on the floor</h4>
                    <select class="form-control" id="q8">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 9</strong></h3>
                    <h4>When frustrated, I enjoy using curse words</h4>
                    <select class="form-control" id="q9">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlSelect1"></label>
                    <h3><strong>Question 10</strong></h3>
                    <h4>I often feel guilty for past mistakes and will do what I can to make up for them</h4>
                    <select class="form-control" id="q10">
                        <option value="" disabled selection>Please select:</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
            </form>
            <br>
            <div class="text-right">
                <button type="submit" class="btn btn-primary btn-md" id="submit"><span class="glyphicon glyphicon-fire"></span>Sumbit</button>
            </div>
        </div>
        <div class="col-md-1"></div>
    </div>
    <div id="resultsModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title"><strong>Best Match</strong></h2>
                </div>
                <div class="modal-body">
                    <h2 id="matchName"></h2>
                    <img id="matchImg" src="" alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script>
    // $(document).ready(function() {


    $("#submit").on("click", function(event) {
        event.preventDefault();





        function validateForm() {
            var isValid = true;
            $('.form-control').each(function() {
                if ($(this).val() === '')
                    isValid = false;
            });

            return isValid;
        }
        // If all required fields are filled
        if (validateForm() == true) {

            var userData = {
                name: $("#name").val(),
                photo: $("#photo").val(),
                scores: [
                    $("#q1").val(),
                    $("#q2").val(),
                    $("#q3").val(),
                    $("#q4").val(),
                    $("#q5").val(),
                    $("#q6").val(),
                    $("#q7").val(),
                    $("#q8").val(),
                    $("#q9").val(),
                    $("#q10").val()
                ]
            }

            // var currentURL = window.location.origin;
            // var currentURL = "localhost:3000";
            $.post("/api/friends", userData)
            .done(function(data) {


                $("#matchName").text(data.name);
                $("#matchImg").attr("src", data.photo);

                $("#resultsModal").modal("toggle");
            });
        } else {
            alert("Please fill out!");
        }
        return false;
    });
    </script>
</body>